(()=>{"use strict";const e=(e,t={})=>{e.value.length>=e.maxLength&&(t.returnValue=!1)},t=e=>null==e||"object"==typeof e&&0===Object.keys(e).length||!(!Array.isArray(e)||0!==e.length)||"string"==typeof e&&0===e.trim().length,s=document,n=(e,...t)=>{const n=s.createElement(e);return i(n,...t),n},i=(e,...s)=>{const n=a(e);for(const e of s)t(e)||n?.classList.add(e);return n},o=(e,...s)=>{const n=a(e);for(const e of s)t(e)||n?.classList.remove(e);return n},a=e=>e instanceof HTMLElement?e:s.querySelector(e),r=e=>e instanceof HTMLElement?e:s.querySelectorAll(e),l={on(e,t){if(this._eventHandlers||(this._eventHandlers={}),"string"==typeof e)this._eventHandlers[e]||(this._eventHandlers[e]=[]),this._eventHandlers[e].push(t);else if("object"==typeof e)for(let t in e){let s=t,n=e[t];this._eventHandlers[s]||(this._eventHandlers[s]=[]),this._eventHandlers[s].push(n)}return this},off(e,t){if(!this._eventHandlers)return;if(!e&&!t)return void(this._eventHandlers={});if(e&&!t)return void delete this._eventHandlers[e];let s=this._eventHandlers?.[e];if(s){let e=s.indexOf(t);-1!==e&&s.splice(e,1)}return this},unbind(...e){this.off(...e)},trigger(e,...t){if(this._eventHandlers?.[e])if("string"==typeof e)this._eventHandlers[e].forEach((e=>e.apply(this,t)));else if("object"==typeof e)for(let t in e){let s=t,n=e[t];this._eventHandlers[s].forEach((e=>e.apply(this,n)))}}},c={collection:new Set,add(e){this.collection.add(e)},delete(e){this.collection.delete(e)},get(e){return Array.from(this.collection).find((t=>t.id==e))},getAll(){return this.collection},hasSingleton(){return!!Array.from(this.collection).find((e=>1==e.singleton))}},d=(e,t)=>{if("show"==t){if(c.hasSingleton()&&1!=e.singleton)return;1==e.singleton&&c.getAll().forEach((e=>{e.close()})),c.add(e)}else"hide"==t&&(c.delete(e),1!=e.persistent&&e.remove())},h={promisifyModal(e){const t="string"==typeof e?a(e):e;if(!t)return null;if(1==t.promisify)return t;const s=t.querySelectorAll("[data-modal-btn]");return s.forEach((e=>{e.addEventListener("click",(()=>{t.resolve?.(e.dataset.modalBtn),e.dataset.modalClose&&"manual"==e.dataset.modalClose||t.hide()})),e.setText=t=>(e.innerText=t,e),e.setColor=t=>{switch(t){case"blue":o("$btn","btn-red","btn-white"),i("$btn","btn-blue");break;case"red":o("$btn","btn-blue","btn-white"),i("$btn","btn-red");break;case"white":o("$btn","btn-red","btn-blue"),i("$btn","btn-white")}return e}})),t.getBtn=e=>{const t=Array.from(s).filter((t=>t.dataset.modalBtn==e));return t?.pop()},t.show=e=>(t.style.display="block",t.onshow?.(),t.onswitch?.(t,"show"),e?.(),new Promise(((e,s)=>{t.resolve=e,t.reject=s,t.close=()=>{e("CLOSE"),t.hide()}}))),t.hide=()=>{t.style.display="none",s.forEach((e=>{e.onclick=void 0})),t.onhide?.(),t.onswitch?.(t,"hide")},t.close=t.hide,t.enableBtn=e=>{const s=t.querySelector('[data-modal-btn="'+e+'"]');s&&(s.disabled=!1)},t.disableBtn=e=>{const s=t.querySelector('[data-modal-btn="'+e+'"]');s&&(s.disabled=!0)},t.on=(e,s)=>{switch(e){case"show":t.onshow=s;break;case"hide":t.onhide=s;break;case"switch":t.onswitch=s}return t},t.off=e=>{switch(e){case"show":t.onshow=null;break;case"hide":t.onhide=null;break;case"switch":t.onswitch=null}return t},t.promisify=!0,t},buildTemplate(e){const t=n("div","modal","top-front"),s=n("div","modalWrap");t.appendChild(s);const o=n("div","modal_content");s.appendChild(o);const a=n("div","modalTitle");a.style.display="none",o.appendChild(a),t.getTitleDiv=()=>a;const r=n("div","modalBody","flex-direction-column");r.style.display="none",o.appendChild(r),t.getMsgDiv=()=>r;const l=n("div","modalInfo");l.style.display="none",o.appendChild(l),t.getDetailDiv=()=>l;const c=n("div","modalBtnDiv");return"vertical"==e&&i(c,"flex-direction-column"),o.appendChild(c),t.addBtn=e=>{c.appendChild(e)},t.singleton=!1,t.addBlackout=()=>{t.style.background="rgba(0,0,0,0.5)"},t.removeBlackout=()=>{t.style.background=""},t},buildButton(e){switch(e){case"OK":const t=n("button","btn","btn-md","btn-blue");return t.innerHTML="확 인",t.dataset.modalBtn="OK",t;case"CLOSE":const s=n("button","btn","btn-md","btn-silver");return s.innerHTML="닫 기",s.dataset.modalBtn="CLOSE",s;case"CANCEL":const o=n("button","btn","btn-md","btn-silver");return o.innerHTML="취 소",o.dataset.modalBtn="CANCEL",o;case"DELETE":const a=n("button","btn","btn-md","btn-red");return a.innerHTML="삭 제",a.dataset.modalBtn="DELETE",a;default:const{isPrimary:r,key:l,text:c}=e,d=n("button","btn","btn-md");return i(d,1==r?"btn-blue":"btn-blue-border"),d.innerHTML=c,d.dataset.modalBtn=l,d}},buildModal(e={}){const{btnList:t,direction:s="horizontal",target:i=a("body")}=e,o=this.buildTemplate(s);return t.forEach((e=>o.addBtn(this.buildButton(e)))),o.setTitle=e=>{const t=o.getTitleDiv();t.style.display="",t.innerHTML=e},o.setMsg=e=>{const t=n("div","commonMent");t.innerHTML=e;const s=o.getMsgDiv();s.querySelector(".commonMent")?.remove(),s.style.display="",s.appendChild(t)},o.setDetail=(...e)=>{if(0==e.length)return;const t=n("ul","modalInfo");for(const s of e){const e=n("li");e.innerHTML=s.message?s.message:s,t.appendChild(e)}const s=o.getDetailDiv();s.style.display="",s.appendChild(t)},o.setErrorInfo=(...e)=>{const t=n("ul","modalInfo");for(const s of e){const e=n("li");e.innerHTML=s.message?s.message:s,t.appendChild(e)}o.setDetail(t)},o.persistent=!1,i.appendChild(o),this.promisifyModal(o).on(d)}},p={animations:{doubleBounce:()=>{const e=n("div","sk-double-bounce"),t=n("div","sk-child","sk-double-bounce1"),s=n("div","sk-child","sk-double-bounce2");return e.appendChild(t),e.appendChild(s),e},pulse:()=>n("div","sk-spinner","sk-spinner-pulse"),spinner:()=>{const e=n("div","sk-fading-circle");for(let t=0;t<12;t++){const s=n("div","sk-circle","sk-circle"+(t+1));e.appendChild(s)}return e},foldingCube:()=>{const e=n("div","sk-folding-cube"),t=n("div","sk-cube","sk-cube1"),s=n("div","sk-cube","sk-cube2"),i=n("div","sk-cube","sk-cube3"),o=n("div","sk-cube","sk-cube4");return e.appendChild(t),e.appendChild(s),e.appendChild(o),e.appendChild(i),e}},promisifyModal(e){const t="string"==typeof e?a(e):e;if(!t)return null;if(1==t.promisify)return t;const s=t.querySelectorAll("[data-modal-btn]");return t.show=()=>(i(t,"visible"),o(t,"hidden"),t.onshow?.(),t.onswitch?.(t,"show"),new Promise(((e,n)=>{s.forEach((s=>{s.onclick=()=>{e(s.dataset.modalBtn),t.hide()}})),t.close=()=>{e("CLOSE"),t.hide()}}))),t.hide=()=>{o(t,"visible"),i(t,"hidden"),s.forEach((e=>{e.onclick=void 0})),t.onhide?.(),t.onswitch?.(t,"hide")},t.close=t.hide,t.on=(e,s)=>{switch(e){case"show":t.onshow=s;break;case"hide":t.onhide=s;break;case"switch":t.onswitch=s}return t},t.off=e=>{switch(e){case"show":t.onshow=null;break;case"hide":t.onhide=null;break;case"hide":t.onswitch=null}return t},t.promisify=!0,t},buildTemplate(){const e=n("div","modal","loading-modal","visible"),t=n("div","loading-info-box","m-2");e.appendChild(t);const s=n("div","loading-animation");t.appendChild(s);const a=n("div","loading-text");return t.appendChild(a),e.setAnimation=t=>{const n=this.animations[t]?.();s.appendChild(n),e.animation=n},e.setPosition=t=>{e.style.position=t},e.setText=e=>{a.innerHTML=e},e.setTextColor=e=>{a.style.color=e},e.setAnimationColor=t=>{e.animation.setColor(t)},e.setBackgroundColor=t=>{e.style.backgroundColor=t},e.setBackgroundOpacity=t=>{e.style.opacity=t},e.persistent=!1,e.addBlackout=()=>{e.style.background="rgba(0,0,0,0.5)",o(s,"blackout")},e.removeBlackout=()=>{e.style.background="none",i(s,"blackout")},e},buildLoading(e={}){const{position:t="auto",text:s="",color:n="#fff",opacity:i="0.7",backgroundColor:r="rgb(0,0,0)",animation:l="doubleBounce",target:h=a("body"),blackout:p=!0,isModal:m=!0}=e,u=c.get("loadingModal")?c.get("loadingModal"):this.buildTemplate();return u.setPosition(t),u.setAnimation(l),u.setText(s),u.setTextColor(n),u.setBackgroundColor(r),u.setBackgroundOpacity(i),p?u.addBlackout():u.removeBlackout(),m||o(u,"modal"),h.appendChild(u),this.promisifyModal(u).on("switch",d)}},m={init(){this.target=a("body"),this.persistentMap=new Map,r(".modal").forEach(((e,t)=>{const s=h.promisifyModal(e)?.on("switch",d);if(s){s.persistent=!0;const e=s.id?s.id:"modal"+t;this.persistentMap.set(e,s),s.hide()}}))},persistentModal(e){return this.persistentMap.get(e)},info(e={}){const{id:t="infoModal",title:s="알 림",detail:n,msg:i,singleton:o=!1}=e;console.log("info modal","title",s,"msg",i,"detail",n);const a=h.buildModal({btnList:["OK"]});return a.id=t,a.singleton=o,s&&a.setTitle(s),i&&a.setMsg(i),n&&a.setDetail(...n),a},confirm(e={}){const{id:t="confirmModal",title:s,msg:n,detail:i,delMode:o=!1,singleton:a=!1}=e,r=1==o?["CANCEL","DELETE"]:["CANCEL","OK"],l=h.buildModal({btnList:r});return l.id=t,l.singleton=a,s&&l.setTitle(s),n&&l.setMsg(n),i&&l.setDetail(...i),l},select(e={}){const{id:t="selectModal",title:s,msg:n,select:i=[],singleton:o=!1,direction:a="vertical"}=e;i.push("CLOSE");const r=h.buildModal({btnList:i,direction:a});return r.id=t,r.singleton=o,s&&r.setTitle(s),n&&r.setMsg(n),r},error(e={}){const{id:t="errorModal",singleton:s=!1,response:{status:n,responseText:i,message:o,detail:a,error:r}}=e,l=h.buildModal({btnList:["OK"]});switch(l.id=t,l.singleton=s,n){case 0:l.setTitle("연결 실패"),l.setMsg("서버와의 연결이 끊어졌습니다. 인터넷 연결 상태를 확인하고 다시 시도해주세요."),l.onhide=e=>{location.href="/login"},l.singleton=!0;break;case 500:l.setTitle("500 Internal Server Error"),l.setMsg("서버에서 요청을 처리할 수 없습니다. 지속적으로 발생할 경우 관리자에게 문의해주세요.");break;case 400:l.setTitle("400 Bad Request"),l.setMsg("요청문에 오류가 있거나 서버가 요청을 이해하지 못했습니다. 지속적으로 발생할 경우 관리자에게 문의해주세요.");break;case 422:l.setTitle("422 Unprocessable Entity"),l.setMsg("요청에 대해 응답할 수 없습니다. 지속적으로 발생할 경우 관리자에게 문의해주세요.");break;case 401:l.setTitle("401 Unauthorized"),l.setMsg(i||"인증되지 않은 사용자의 요청입니다. 로그인 페이지로 이동합니다."),l.onhide=e=>{location.href="/login"},l.singleton=!0;break;case 403:l.setTitle("403 Forbidden"),l.setMsg("요청에 대한 권한이 없습니다.");break;case 404:l.setTitle("404 Not Found"),l.setMsg("요청한 페이지를 찾을 수 없습니다. 지속적으로 발생할 경우 관리자에게 문의해주세요.");break;case 409:l.setTitle("409 Conflict"),l.setMsg("요청한 서비스가 현재 사용 가능하지 않습니다. 다시 시도해 주세요.");break;default:l.setTitle("잠시 후 다시 시도해주세요"),l.setMsg("서버로부터 올바른 응답을 받지 못했습니다. 지속적으로 발생할 경우 관리자에게 문의해주세요.")}return o&&l.setTitle(o),a&&l.setMsg(a),r&&0!=r.length&&l.setErrorInfo(...r),l},loading(e={}){const{id:t="loadingModal",target:s=this.target}=e;s!==this.target&&(e.blackout=!1,e.isModal=!1);const n=p.buildLoading(e);return n.id=t,n}},u={__proto__:l,init(e={}){const{}=e},promisify:e=>h.promisifyModal(e),info:(e={})=>m.info(e).show(),confirm:(e={})=>m.confirm(e).show(),select:(e={})=>m.select(e).show(),error:(e={})=>m.error(e).show(),startLoading:(e={})=>m.loading(e).show(),endLoading(e={}){c.get("loadingModal")?.hide()},get:e=>m.persistentModal(e),getPopupList:()=>c.getAll(),show:e=>m.persistentModal(e).show(),close(e){const t=c.get(e);t?.close()},closeAll(){c.getAll().forEach((e=>{e.close()}))}};m.init();const g=["success-only","http-errors-only","no-exceptions"];class y{constructor(e={}){const{request:t,param:s,loading:n=!0,debug:i=!0,exception:o=g[1],exceptionModal:a=!0}=e;this.request=t,this.param=s,this.loading=n,this.debug=i,this.exception=o}success(e){return this.successExe=e,this}error(e){return this.errorExe=e,this}finally(e){return this.finallyExe=e,this}async exe(){try{this.loading&&u.startLoading();const e=await this.request(this.param);if(this.loading&&u.endLoading(),this.exception==g[0]&&200!=e.status)throw e;return this.successExe?.(e),e}catch(e){return this.loading&&u.endLoading(),this.debug&&console.log(e),this.exceptionModal&&u.error({response:e}),this.errorExe?.(e),null}finally{this.finallyExe?.()}}}const f=(e={})=>new y(e),D={__proto__:l,init(e={}){const{officeCode:t="1000",approvalStatus:s=0,meetingStatus:n=0,roomType:i="ALL_ROOM",roomKey:o,title:a="",host:r="",attendeeName:l="",searchTarget:c="title",searchWord:d="",holdingDate:h=moment().format("YYYY-MM-DD"),startDate:p=moment().format("YYYY-MM-DD"),endDate:m=moment().add(7,"d").format("YYYY-MM-DD")}=e;this.officeCode=t,this.approvalStatus=s,this.meetingStatus=n,this.roomType=i,this.roomKey=o,this.title=a,this.host=r,this.attendeeName=l,this.searchTarget=c,this.searchWord=d,this.holdingDate=h,this.startDate=p,this.endDate=m,this.enableSearchBtn(),this.enableResetBtn(),this.enableSearchToggleBtn()},initOffice(){const e=a("#officeSelect");if(e){const t=a("#officeLabel"),s=s=>{const n=e.querySelector('[value="'+s+'"]');n.selected=!0;const i=n.text;t.innerText=i};e.onchange=e=>{const t=e.target.value;s(t),this.trigger("change","office",t)},this.selectOffice=s,this.getOffice=()=>0==e.value?null:e.value,this.selectOffice(this.officeCode)}else this.getOffice=()=>this.officeCode},initApprovalStatus(){const e=a("#approvalStatusSelect"),t=a("#approvalStatusLabel"),s=s=>{const n=e.querySelector('[value="'+s+'"]');n.selected=!0;const i=n.text;t.innerText=i};e.onchange=e=>{const t=e.target.value;s(t),this.trigger("change","approvalStatus",t)},this.selectAppStatus=s,this.getAppStatus=()=>0==e.value?null:e.value,this.selectAppStatus(this.approvalStatus)},initMeetingStatus(){const e=a("#meetingStatusSelect"),t=a("#meetingStatusLabel"),s=s=>{const n=e.querySelector('[value="'+s+'"]');n.selected=!0;const i=n.text;t.innerText=i};e.onchange=e=>{const t=e.target.value;s(t),this.trigger("change","meetingStatus",t)},this.selectMeetingStatus=s,this.getMeetingStatus=()=>0==e.value?null:e.value,this.selectMeetingStatus(this.meetingStatus)},initSearchTarget(){const e=a("#searchTargetSelect"),t=a("#searchTargetLabel"),s=s=>{const n=e.querySelector('[value="'+s+'"]');n.selected=!0;const i=n.text;t.innerText=i};e.onchange=e=>{const t=e.target.value;s(t),this.trigger("change","searchTarget",t)},this.selectTarget=s,this.getSearchTarget=()=>e.value,this.selectTarget(this.searchTarget)},initSearchWord(){const t=a("#searchWord");t.maxLength=60,t.oninput=()=>{e(t)},t.onkeyup=e=>{13==e.keyCode&&this.trigger("search",this.getSearchInput())},t.onchange=()=>{this.trigger("change","searchWord",t.value)},this.setSearchWord=e=>{t.value=e},this.getSearchWord=()=>""==t.value?null:t.value,this.setSearchWord(this.searchWord)},initPeriodPicker(e={}){const{maxDate:t}=e,s=a("#startDateDiv"),n=a("#startDateInput");n.value=this.startDate;const i=a("#endDateDiv"),o=a("#endDateInput");o.value=this.endDate,this.setStartDate=e=>{n.value=e},this.setEndDate=e=>{o.value=e},this.getStartDate=e=>n.value,this.getEndDate=e=>o.value;const r=$("#datepicker");r.datepicker({dateFormat:"yy-mm-dd"}),1==moment(t).isValid()&&r.datepicker("option","maxDate",t);const l=a("#datePickerModal");l.querySelector(".btn-blue"),l.querySelector(".btn-silver"),s.onclick=async()=>{const e=this.getStartDate(),t=this.getEndDate();if(1==moment(e).isValid()&&r.datepicker("setDate",e),"OK"==await u.get("datePickerModal").show()){const e=r.datepicker("getDate"),s=moment(e),n=s.format("YYYY-MM-DD");s.isAfter(t)&&(this.setEndDate(n),this.trigger("change","endDate",n)),this.setStartDate(n),this.trigger("change","startDate",n)}},i.onclick=async()=>{const e=this.getStartDate(),t=this.getEndDate();if(1==moment(t).isValid()&&r.datepicker("setDate",t),"OK"==await u.get("datePickerModal").show()){const t=r.datepicker("getDate"),s=moment(t),n=s.format("YYYY-MM-DD");s.isBefore(e)&&(this.setStartDate(n),this.trigger("change","startDate",n)),this.setEndDate(n),this.trigger("change","endDate",n)}}},initDatePicker(){const e=a("#dateDiv"),t=a("#dateInput");t.value=this.holdingDate,this.setDate=e=>{t.value=e},this.getDate=e=>t.value;const s=$("#datepicker");s.datepicker({dateFormat:"yy-mm-dd"});const n=moment().format("YYYY-MM-DD");e.onclick=async()=>{s.datepicker("option","minDate",n);const e=this.getDate();if(1==moment(e).isValid()&&s.datepicker("setDate",e),"OK"==await u.get("datePickerModal").show()){const e=s.datepicker("getDate"),t=moment(e).format("YYYY-MM-DD");this.setDate(t),this.trigger("change","holdingDate",t)}}},initFileType(){const e=a("#fileType");e&&(e.onchange=()=>{const e=this.getFileType();this.trigger("change","roleType",e)},this.switchFileType=t=>{e.checked=t},this.getFileType=()=>e.checked?e.value:null)},initRoomTypeSelect(){const e=a("#roomTypeSelect");if(e){const t=a("#roomTypeLabel"),s=s=>{this.trigger("change","roomType",s),e.value=s;const n=e.options[e.selectedIndex].text;t.innerText=n};e.onchange=e=>{const t=e.target.value;s(t)},this.selectRoomType=s,this.getRoomType=()=>e.value,this.selectRoomType(this.roomType)}else this.getRoomType=()=>this.roomType},initRoomTypeCheck(){const e=r('input[type=radio][name="roomType"]');e.forEach((e=>e.addEventListener("change",(async()=>{const t=e.value;this.trigger("change","roomType",t),this.loadRoomList?.()})))),this.checkRoomType=t=>{e.forEach((e=>{e.value==t?e.checked=!0:e.checked=!1}))},this.getRoomType=()=>{for(const t of e)if(1==t.checked)return t.value},this.checkRoomType(this.roomType)},initRoomSelect(){const e=a("#roomSelect"),t=a("#roomLabel"),s=(e,t)=>{const s=document.createElement("option");return s.value=e||-1,s.innerText=t,s},n=s=>{if(s){const n=e.querySelector('[value="'+s+'"]');n.selected=!0;const i=n.text;t.innerText=i}else e.selectedIndex=null,e.value=-1,t.innerText="전체";this.trigger("change","roomKey",s)};e.onchange=e=>{const t=e.target.value;n(t)},this.selectRoom=n,this.getRoom=()=>-1==e.value?void 0:e.value,this.setRoomSelectBox=t=>{e.innerHTML="";const n=s(null,"전체");e.appendChild(n);for(const n of t){const t=s(n.roomKey,n.roomName);e.appendChild(t)}};const i=s(null,"전체");e.appendChild(i),this.selectRoom(this.roomKey)},initElecYN(){const e=a("#switchElec");e.onchange=()=>{const e=this.getElecYN();this.trigger("change","elecYN",e)},this.switchElecYN=t=>{e.checked=t},this.getElecYN=()=>1==e.checked?"Y":null},initSecretYN(){const e=a("#switchSecret");e.onchange=()=>{const e=this.getSecretYN();this.trigger("change","secretYN",e)},this.switchSecretYN=t=>{e.checked=t},this.getSecretYN=()=>1==e.checked?"Y":null},initTitle(){const t=a("#titleInput");t&&(t.oninput=()=>{e(t)},t.onkeyup=e=>{13==e.keyCode&&this.trigger("search",this.getSearchInput())},t.onchange=()=>{this.trigger("change","title",t.value)},this.setTitle=e=>{t.value=e},this.getTitle=()=>""==t.value?null:t.value,this.setTitle(this.title))},initHost(){const e=a("#hostInput");e.oninput=()=>{((e,t={})=>{e.value.length>=e.maxLength&&(t.returnValue=!1),e.value=e.value.replace(/[ \{\}\[\]\/?.,;:|\)*~`!^\-_+┼<>@\#$%&\'\"\\\(\=]/gi,"")})(e)},e.onkeyup=e=>{13==e.keyCode&&this.trigger("search",this.getSearchInput())},e.onchange=()=>{this.trigger("change","host",e.value)},this.setHost=t=>{e.value=t},this.getHost=()=>""==e.value?null:e.value,this.setHost(this.host)},initAttendeeName(){const e=a("#attendeeInput");e.oninput=()=>{((e,t={})=>{e.value.length>=e.maxLength&&(t.returnValue=!1),e.value=e.value.replace(/[0-9\{\}\[\]\/?.,;:|\)*~`!^\-_+┼<>@\#$%&\'\"\\\(\=]/gi,""),e.value=e.value.replace(" ","")})(e)},e.onkeyup=e=>{13==e.keyCode&&this.trigger("search",this.getSearchInput())},e.onchange=()=>{this.trigger("change","attendee",e.value)},this.setAttendeeName=t=>{e.value=t},this.getAttendeeName=()=>""==e.value?null:e.value,this.setAttendeeName(this.attendeeName)},getSearchInput(){const e=this.getOffice?.(),t=this.getSearchTarget?.(),s=this.getSearchWord?.(),n=this.getAppStatus?.(),i=this.getMeetingStatus?.(),o=this.getDate?.(),a=this.getStartDate?.(),r=this.getEndDate?.(),l=this.getRoomType?.(),c=this.getRoom?.(),d=this.getFileType?.(),h=this.getElecYN?.(),p=this.getSecretYN?.(),m=this.getTitle?.(),u=this.getHost?.(),g=this.getAttendeeName?.();return{officeCode:e,approvalStatus:n,meetingStatus:i,searchTarget:t,searchWord:s,holdingDate:o,startDate:a,endDate:r,roomType:l,roomKey:c,roleType:d,elecYN:h,secretYN:p,title:m,host:u,attendeeName:g}},initSearchInput(e={}){const t=moment(),{holdingDate:s=t.format("YYYY-MM-DD"),startDate:n=t.clone().add(-2,"w").format("YYYY-MM-DD"),endDate:i=t.clone().add(2,"w").format("YYYY-MM-DD")}=e;this.selectOffice?.(this.officeCode),this.setSearchTarget?.("title"),this.setSearchWord?.(""),this.selectAppStatus?.("0"),this.selectMeetingStatus?.("0"),this.setDate?.(s),this.setStartDate?.(n),this.setEndDate?.(i),this.selectRoomType?.("ALL_ROOM"),this.checkRoomType?.("MEETING_ROOM"),this.selectRoom?.(),this.switchFileType?.(!1),this.switchElecYN?.(!1),this.switchSecretYN?.(!1),this.setTitle?.(""),this.setHost?.(""),this.setAttendeeName?.("")},enableSearchBtn(){const e=a("#searchBtn");e&&(e.onclick=()=>{this.trigger("search",this.getSearchInput())})},enableResetBtn(e={}){const t=a("#resetBtn");t&&(t.onclick=()=>{this.initSearchInput(e),this.trigger("reset",this.getSearchInput())});const s=a("#resetMobileBtn");s&&(s.onclick=()=>{this.initSearchInput(e),this.trigger("reset",this.getSearchInput());const t=a(".listSrchDiv");"flex"==t.style.display?t.style.display="none":t.style.display="flex"})},enableSearchToggleBtn(){const e=a(".mobileSrchBtn");e&&(e.onclick=()=>{const e=a(".listSrchDiv");"flex"==e.style.display?e.style.display="none":e.style.display="flex"})}},T=document.querySelector("meta[name='_csrf']")?.content,v=document.querySelector("meta[name='_csrf_header']")?.content,b=e=>Object.fromEntries(Object.entries(e).filter((([e,t])=>null!=t))),C=(e,t="GET",s=null,n={},i={})=>{const o=((e,t)=>{const s=new URLSearchParams(b(t)).toString();return s?`${e}?${s}`:e})(e,n),a={"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"};T&&v&&!["GET","HEAD","OPTIONS","TRACE"].includes(t.toUpperCase())&&(a[v]=T);const r={method:t,headers:{...a,...i}};return s&&("multipart/form-data"===r.headers["Content-Type"]?(delete r.headers["Content-Type"],r.body=s instanceof FormData?s:new FormData):r.headers["Content-Type"].includes("application/x-www-form-urlencoded")?r.body=s instanceof FormData?s:new URLSearchParams(s).toString():r.body=s&&JSON.stringify(s)),console.log("Request","requestUrl:",o,"data:",s,"Options:",r),fetch(o,r).then((e=>{if(!e.ok)throw e;if("0"===e.headers.get("Content-Length"))return null;const t=e.headers.get("Content-Type");if(!t||!t.includes("application/json"))return e.text();try{return e.json()}catch(e){return null}})).catch((e=>{throw console.error("Fetch error:",e),e}))},M=(e,t={})=>C(e,"GET",null,b(t),{}),S=(e,{data:t=null,queryParams:s={},headers:n={}}={})=>C(e,"POST",t,b(s),n),w=(e,{data:t=null,queryParams:s={},headers:n={}}={})=>C(e,"PUT",t,b(s),n),k=(e,{data:t=null,queryParams:s={},headers:n={}}={})=>C(e,"DELETE",t,b(s),n),L=e=>M(`/api/ewp/dept/${e}/sub`),N={Get:{deptOne:e=>M(`/api/ewp/dept/${e}`),subDeptList:L,userList:(e={})=>{const{officeCode:t,deptId:s,deptName:n,userKey:i,userName:o}=e;return M("/api/ewp/user/list",{officeCode:t,deptId:s,deptName:n,userName:o})},subDeptList:L,userAuthorityForMeeting:e=>M(`/api/ewp/user/authority/meeting/${e}`),adminAuthorityForMeeting:e=>M(`/api/ewp/admin/authority/meeting/${e}`),approvalManagerPublicList:(e={})=>{const{officeCode:t,roomType:s}=e;return M("/api/ewp/public/roster/approval-manager/list",{officeCode:t,roomType:s})}},Post:{switchUserAuthenticationToken:(e={})=>{const{userId:t,loginType:s}=e;return S(`/api/ewp/dev/switch-authentication/user/${t}/loginType/${s}`)}},Put:{},Delete:{}},Y={Get:{roomOne:(e={})=>{const{roomType:t,roomKey:s}=e;return M(`/api/ewp/room/${t}/${s}`)},roomList:(e={})=>{const{officeCode:t,roomType:s="ALL_ROOM",rentYN:n,delYN:i}=e;return M(`/api/ewp/admin/system/room/${s}/list`,{officeCode:t,rentYN:n,delYN:i})},rentableList:(e={})=>{const{officeCode:t,roomType:s}=e;return M(`/api/ewp/room/${s}/rentable/list`,{officeCode:t})},publicListForDisplay:(e={})=>{const{officeCode:t,roomType:s}=e;return M(`/api/ewp/public/room/${s}/display/list`,{officeCode:t})},roomPermissionList:e=>{const{roomType:t,roomKey:s}=e;return M(`/api/ewp/admin/system/room/${t}/${s}/permission/list`)}},Post:{roomOne:(e={})=>S("/api/ewp/admin/system/room",{data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}),roomPermissionList:e=>S("/api/ewp/admin/system/room/permission/list",{data:e,headers:{"Content-Type":"application/json; charset=utf-8"}})},Put:{roomOne:(e={})=>w("/api/ewp/admin/system/room",{data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}})},Delete:{roomOne:(e={})=>{const{roomType:t,roomKey:s}=e;return k(`/api/ewp/admin/system/room/${t}/${s}`)},roomPermissionAll:(e={})=>{const{roomType:t,roomKey:s}=e;return console.log("data",e),k(`/api/ewp/admin/system/room/${t}/${s}/permission/all`,{data:e})}}},E={assignOne:e=>M(`/api/ewp/meeting/assign/${e}`,{skdKey:e}),assignList:(e={})=>{const{officeCode:t,approvalStatus:s,roomType:n,roomKey:i,title:o,host:a,attendeeName:r,elecYN:l,secretYN:c,startDate:d,endDate:h,pageNo:p,pageCnt:m,orderColumn:u,orderDirection:g="ASC"}=e;return M("/api/ewp/meeting/assign/list",{officeCode:t,approvalStatus:s,roomType:n,roomKey:i,title:o,host:a,attendeeName:r,elecYN:l,secretYN:c,startDate:d,endDate:h,pageNo:p,pageCnt:m,orderColumn:u,orderDirection:g})},assignListCnt:(e={})=>{const{officeCode:t,approvalStatus:s,roomType:n,roomKey:i,title:o,host:a,attendeeName:r,elecYN:l,secretYN:c,startDate:d,endDate:h,pageNo:p,pageCnt:m}=e;return M("/api/ewp/meeting/assign/list/cnt",{officeCode:t,approvalStatus:s,roomType:n,roomKey:i,title:o,host:a,attendeeName:r,elecYN:l,secretYN:c,startDate:d,endDate:h,pageNo:p,pageCnt:m})},assignListForPlanned:(e={})=>{const{startDate:t,endDate:s}=e;return M("/api/ewp/meeting/assign/planned/list",{startDate:t,endDate:s})},assignStatForPlanned:(e={})=>{const{startDate:t,endDate:s}=e;return M("/api/ewp/meeting/assign/planned/stat",{startDate:t,endDate:s})},assignListForRegister:(e={})=>{const{pageNo:t,pageCnt:s}=e;return M("/api/ewp/meeting/assign/register/list",{pageNo:t,pageCnt:s})},assignListForDisplay:(e={})=>{const{officeCode:t,roomType:s,roomKey:n,startDate:i,endDate:o}=e;return M("/api/ewp/meeting/assign/display/list",{officeCode:t,roomType:s,roomKey:n,startDate:i,endDate:o})},assignPublicListForDisplay:(e={})=>{const{officeCode:t,roomType:s,roomKey:n,startDate:i,endDate:o}=e;return M("/api/ewp/public/meeting/assign/display/list",{officeCode:t,roomType:s,roomKey:n,startDate:i,endDate:o})},userArchiveList:(e={})=>{const{skdHost:t,title:s,originalName:n,roleType:i,startDate:o,endDate:a,pageNo:r,pageCnt:l}=e;return M("/api/ewp/meeting/archive/manage/user",{skdHost:t,title:s,originalName:n,roleType:i,startDate:o,endDate:a,pageNo:r,pageCnt:l})},deptArchiveList:(e={})=>{const{skdHost:t,title:s,originalName:n,startDate:i,endDate:o,pageNo:a,pageCnt:r}=e;return M("/api/ewp/meeting/archive/manage/dept",{skdHost:t,title:s,originalName:n,startDate:i,endDate:o,pageNo:a,pageCnt:r})},adminArchiveList:(e={})=>{const{skdHost:t,title:s,originalName:n,startDate:i,endDate:o,pageNo:a,pageCnt:r}=e;return M("/api/ewp/admin/master/meeting/archive/manage",{skdHost:t,title:s,originalName:n,startDate:i,endDate:o,pageNo:a,pageCnt:r})},userAssignList:(e={})=>{const{approvalStatus:t,meetingStatus:s,roomType:n,title:i,host:o,writerKey:a,attendeeName:r,elecYN:l,secretYN:c,startDate:d,endDate:h,pageNo:p,pageCnt:m,orderColumn:u,orderDirection:g="DESC"}=e;return M("/api/ewp/meeting/assign/manage/user",{approvalStatus:t,meetingStatus:s,roomType:n,title:i,host:o,writerKey:a,attendeeName:r,elecYN:l,secretYN:c,startDate:d,endDate:h,pageNo:p,pageCnt:m,orderColumn:u,orderDirection:g})},deptAssignList:(e={})=>{const{approvalStatus:t,meetingStatus:s,roomType:n,title:i,host:o,attendeeName:a,elecYN:r,secretYN:l,startDate:c,endDate:d,pageNo:h,pageCnt:p,orderColumn:m,orderDirection:u="DESC"}=e;return M("/api/ewp/meeting/assign/manage/dept",{approvalStatus:t,meetingStatus:s,roomType:n,title:i,host:o,attendeeName:a,elecYN:r,secretYN:l,startDate:c,endDate:d,pageNo:h,pageCnt:p,orderColumn:m,orderDirection:u})}};window.onload=()=>{H.init({officeCode,roomType,roomKey,startDate,endDate})};const H={async init(e={}){const{officeCode:t,roomType:s,roomKey:n,startDate:i,endDate:o}=e;D.init({officeCode:t,roomType:s,roomKey:n,startDate:i,endDate:o}),D.initOffice(),D.initRoomTypeCheck(),D.initRoomSelect(),D.initPeriodPicker();const a=moment();D.enableResetBtn({startDate:a.clone().format("YYYY-MM-DD"),endDate:a.clone().add(7,"d").format("YYYY-MM-DD")}),D.on("change",(async(t,s)=>{u.startLoading(),"office"==t&&(this.setApprovalManager(),await this.setRoomList()&&await this.search(e)),"roomType"==t&&(this.setApprovalManager(),await this.setRoomList()&&await this.search(e)),u.endLoading()})),D.on("search",((e={})=>{this.search(e)})),D.on("reset",((e={})=>{this.reset(e)})),this.setApprovalManager(),await this.setRoomList()&&this.search(D.getSearchInput())},async setApprovalManager(){const{officeCode:e,roomType:s}=D.getSearchInput();await f({request:N.Get.approvalManagerPublicList,param:{officeCode:e,roomType:s}}).success((e=>{const s=a("#managerName"),n=a("#managerTel");if(t(e))s.innerHTML="미지정",n.innerHTML="-";else{const t=e[0];s.innerHTML=t.userName,n.innerHTML=t.officeDeskPhone}})).error((()=>{})).exe()},async setRoomList(){const{officeCode:e,roomType:t}=D.getSearchInput();let s,n,i=!0;return s=new Date,await f({request:Y.Get.rentableList,param:{officeCode:e,roomType:t}}).success((e=>{n=new Date,console.log("Operation took "+(n.getTime()-s.getTime())+" msec"),this.roomList=e,D.setRoomSelectBox(this.roomList),D.selectRoom()})).error((()=>{x.clean(),i=!1})).exe(),console.log("result",i),i},async search(e={}){const{roomKey:t,startDate:s=this.startDate,endDate:n=this.endDate}=e;this.roomKey=t,this.startDate=s,this.endDate=n;let i=this.roomList;t&&(i=i.filter((e=>e.roomKey==t))),x.build({startDate:this.startDate,endDate:this.endDate,roomList:i})},async reset(e){await this.setRoomList(),this.search(e)}},x={clean(){document.querySelector("#resultBox").innerHTML=""},build(e={}){const{startDate:t,endDate:s,roomList:n}=e;this.startDate=t,this.endDate=s;const i=document.querySelector("#resultBox");i.innerHTML="";for(const e of n){const t=this.createRoomBox(e);i.appendChild(t)}},createRoomBox(e){const t=n("div","tableDiv");return(()=>{const s=n("div","tableTitDiv"),i=n("div","tableTit");if(i.innerHTML=e.roomName,s.appendChild(i),"SSO"==loginType){const t=n("div","tableBtn"),i=n("button","btn","btn-blue","btn-sm");i.onclick=()=>{const{roomType:t,roomKey:s}=e,n=this.startDate;location.href=`/ewp/meeting/assign/post?roomType=${t}&roomKey=${s}&holdingDate=${n}`},i.innerHTML="사용신청",t.appendChild(i),s.appendChild(t)}t.appendChild(s)})(),(()=>{(()=>{const e=n("div","listHeaderDiv"),s=n("div","row");e.appendChild(s);const i=n("div","item","no");i.innerHTML="No",s.appendChild(i);const o=n("div","item","dateTime","justify-content-start");o.innerHTML="사용일시",s.appendChild(o);const a=n("div","item","title");a.innerHTML="제 목",s.appendChild(a);const r=n("div","item","host","justify-content-start");r.innerHTML="신청자",s.appendChild(r);const l=n("div","item","host","justify-content-start");l.innerHTML="주관자",s.appendChild(l);const c=n("div","item","status");c.innerHTML="상 태",s.appendChild(c);const d=n("div","item","regDate","justify-content-start");d.innerHTML="등록일",s.appendChild(d),t.appendChild(e)})(),(()=>{const s=e=>{const t=n("div","row",(e=>{switch(e){case"REQUEST":return"s0";case"APPROVED":return"s1";case"CANCELED":return"s4";case"REJECTED":return"s5"}})(e.appStatus)),s=n("div","item","no");s.innerHTML=e.skdKey,t.appendChild(s);const i=n("div","item","dateTime");t.appendChild(i);const o=n("span","date");o.innerHTML=e.holdingDate,i.appendChild(o);const a=n("span","time");a.innerHTML=moment(e.beginDateTime).format("HH:mm")+"~"+moment(e.finishDateTime).format("HH:mm"),i.appendChild(a),t.appendChild(i);const r=n("div","item","title");r.innerHTML=e.title,r.onclick=()=>{},t.appendChild(r);const l=n("div","item","host"),c=n("span","headerTip");c.innerHTML="신청자 : ",l.appendChild(c);const d=n("div");d.innerHTML=e.writer.nameplate,l.appendChild(d),t.appendChild(l);const h=n("div","item","host"),p=n("span","headerTip");p.innerHTML="주관자 : ",h.appendChild(p);const m=n("div");m.innerHTML=e.skdHost,h.appendChild(m),t.appendChild(h);const u=n("div","item","status");u.appendChild(n("span")),t.appendChild(u);const g=n("div","item","regDate");return g.innerHTML=moment(e.regDateTime).format("YYYY.MM.DD"),t.appendChild(g),t},i=n("div","listBodyDiv");E.assignListForDisplay({roomType:e.roomType,roomKey:e.roomKey,startDate:this.startDate,endDate:this.endDate}).then((e=>{if(e&&0!=e.length)for(const t of e){const e=s(t);i.appendChild(e)}})),t.appendChild(i)})()})(),t}}})();